<div class="water-tracker">
  <header class="tracker-header">
    <button class="btn-back" (click)="goBack()">â† Nazad</button>
    <h1>ğŸ’§ Water Intake</h1>
    <div style="width: 100px"></div> </header>

<div class="tracker-content">

  <div class="form-card">
    <form [formGroup]="waterForm" (ngSubmit)="addEntry()">
      <div class="form-group">
        <label>Datum</label>
        <input type="date" formControlName="date">
      </div>

      <div class="form-group">
        <label>Broj ÄaÅ¡a vode</label>
        <input type="number" formControlName="glasses" min="0">
      </div>

      <div class="form-group">
        <label>Dnevni cilj</label>
        <input type="number" formControlName="goal" min="1">
      </div>

      <button type="submit" class="btn-submit">Dodaj unos</button>
    </form>
  </div>

  <div class="loading" *ngIf="isLoading">
    UÄitavanje...
  </div>

  <div class="entries" *ngIf="!isLoading">
    <h2>Istorija unosa</h2>

    <div *ngIf="waterEntries.length === 0" class="empty">
      Nema unosa
    </div>

    <div class="entry-card" *ngFor="let entry of waterEntries">
      <div class="entry-header">
        <strong>{{ formatDate(entry.date) }}</strong>
        <button class="btn-delete" (click)="deleteEntry(entry.id)">ğŸ—‘ï¸</button>
      </div>
      
      <div class="entry-body">
        <p>ğŸ’§ {{ entry.glasses }} / {{ entry.goal }} ÄaÅ¡a</p>
        
        <div class="progress-bar">
          <div class="progress-fill" [style.width.%]="getProgress(entry)"></div>
        </div>
        
        <p class="progress-text">{{ getProgress(entry) | number:'1.0-0' }}%</p>
      </div>
    </div>
  </div>
</div>
</div>